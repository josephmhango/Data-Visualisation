<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="K.J. Mhango">
<meta name="dcterms.date" content="2025-09-06">

<title>Aesthetics Facets and Guides</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="aesthetics_files/libs/clipboard/clipboard.min.js"></script>
<script src="aesthetics_files/libs/quarto-html/quarto.js"></script>
<script src="aesthetics_files/libs/quarto-html/popper.min.js"></script>
<script src="aesthetics_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="aesthetics_files/libs/quarto-html/anchor.min.js"></script>
<link href="aesthetics_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="aesthetics_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="aesthetics_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="aesthetics_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="aesthetics_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<style>html{ scroll-behavior: smooth; }</style>
<link href="aesthetics_files/libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">

<script src="aesthetics_files/libs/pagedtable-1.1/js/pagedtable.js"></script>



</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article toc-left">
<div id="quarto-sidebar-toc-left" class="sidebar toc-left">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction"><span class="header-section-number">0.1</span> Introduction</a></li>
  <li><a href="#aesthetics-the-language-of-perception" id="toc-aesthetics-the-language-of-perception" class="nav-link" data-scroll-target="#aesthetics-the-language-of-perception"><span class="header-section-number">0.2</span> 1. Aesthetics: The Language of Perception</a></li>
  <li><a href="#aesthetic-attributes-in-detail" id="toc-aesthetic-attributes-in-detail" class="nav-link" data-scroll-target="#aesthetic-attributes-in-detail"><span class="header-section-number">0.3</span> 2. Aesthetic Attributes in Detail</a></li>
  <li><a href="#facets-the-algebra-of-small-multiples" id="toc-facets-the-algebra-of-small-multiples" class="nav-link" data-scroll-target="#facets-the-algebra-of-small-multiples"><span class="header-section-number">0.4</span> 3. Facets: The Algebra of Small Multiples</a></li>
  <li><a href="#guides-helping-readers-decode" id="toc-guides-helping-readers-decode" class="nav-link" data-scroll-target="#guides-helping-readers-decode"><span class="header-section-number">0.5</span> 4. Guides: Helping Readers Decode</a></li>
  <li><a href="#critical-review-of-the-aethetics-in-grammar-of-graphics" id="toc-critical-review-of-the-aethetics-in-grammar-of-graphics" class="nav-link" data-scroll-target="#critical-review-of-the-aethetics-in-grammar-of-graphics"><span class="header-section-number">0.6</span> 5. Critical Review of the Aethetics in Grammar of Graphics:</a></li>
  <li><a href="#key-takeaways" id="toc-key-takeaways" class="nav-link" data-scroll-target="#key-takeaways"><span class="header-section-number">0.7</span> 6. Key Takeaways</a></li>
  </ul>
</nav>
</div>
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Aesthetics Facets and Guides</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>K.J. Mhango </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">September 6, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="introduction" class="level3" data-number="0.1">
<h3 data-number="0.1" class="anchored" data-anchor-id="introduction"><span class="header-section-number">0.1</span> Introduction</h3>
<p>This chapter is a comprehensive exploration of three pillars of the Grammar of Graphics: <strong>aesthetics, facets, and guides</strong>. It is written in a deliberately expansive style — designed not as a terse technical reference but as a sustained, book-length conversation with you as the reader. The goal is to create a document that you could study over several hours, pausing to run the R code, reflect on the prose, and interrogate the design choices implied by every plot.</p>
<p>The inspiration comes from both <strong>Bertin’s Semiology of Graphics (1967)</strong> and <strong>Wilkinson’s Grammar of Graphics (2005)</strong>, alongside contemporary extensions embodied in R’s <strong>ggplot2</strong> package (Wickham, 2016). Where the original documents sometimes present the content as compact taxonomies, here I will expand each idea into narrative form, provide psychological and historical context, and reinforce the discussion with R-based graphical experiments.</p>
<p>Think of this as a <strong>field guide to perception and design</strong> for statisticians, data scientists, and visual communicators.</p>
<hr>
</section>
<section id="aesthetics-the-language-of-perception" class="level3" data-number="0.2">
<h3 data-number="0.2" class="anchored" data-anchor-id="aesthetics-the-language-of-perception"><span class="header-section-number">0.2</span> 1. Aesthetics: The Language of Perception</h3>
<section id="what-are-aesthetics" class="level4" data-number="0.2.1">
<h4 data-number="0.2.1" class="anchored" data-anchor-id="what-are-aesthetics"><span class="header-section-number">0.2.1</span> 1.1 What Are Aesthetics?</h4>
<p>At its core, an <em>aesthetic</em> is a channel through which data is rendered perceptible. Data, in its raw form, is abstract. We cannot “see” the number 4.7 or the category “diesel car.” Only when these numbers and categories are mapped onto perceptible stimuli — position, colour, size, shape — do they enter our sensory field.</p>
<p>R’s <strong>ggplot2</strong> codifies aesthetics through the <code>aes()</code> function. Each argument to <code>aes()</code> defines a mapping between a variable in the dataset and a perceptual channel. For example:</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(<span class="at">x =</span> displ, <span class="at">y =</span> hwy, <span class="at">colour =</span> class)) <span class="sc">+</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="aesthetics_files/figure-html/unnamed-chunk-1-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Here, <code>displ</code> (engine displacement) is mapped to the x-position, <code>hwy</code> (highway miles per gallon) to the y-position, and <code>class</code> (vehicle type) to colour. The grammar declares not <em>what kind of plot</em> this is, but <em>how data is mapped into perception</em>. The <code>geom_point()</code> layer then provides the form (points).</p>
<p>Aesthetics are therefore not superficial style decisions but <strong>the grammar’s deep structure</strong>. If you misunderstand them, you mis-specify the communication of your data.</p>
<hr>
</section>
<section id="continuous-aesthetics" class="level4" data-number="0.2.2">
<h4 data-number="0.2.2" class="anchored" data-anchor-id="continuous-aesthetics"><span class="header-section-number">0.2.2</span> 1.2 Continuous Aesthetics</h4>
<p>When continuous variables are mapped to an aesthetic, human perception comes into play. The central lesson from psychophysics is that perception is not linear.</p>
<ul>
<li><strong>Fechner–Weber Law</strong>: the smallest noticeable difference grows with stimulus intensity.</li>
<li><strong>Stevens’ Power Law</strong>: perceived intensity often follows a power function of physical intensity.</li>
</ul>
<p>This matters when we map data to <strong>size</strong>. Consider a bubble plot:</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(<span class="at">x =</span> displ, <span class="at">y =</span> hwy, <span class="at">size =</span> cyl)) <span class="sc">+</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.6</span>) <span class="sc">+</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_size_continuous</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">12</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="aesthetics_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>A car with 8 cylinders does not appear “twice as big” as one with 4 cylinders. This is because the perception of area grows sublinearly — our eyes are not good at judging proportional changes in area. In this plot, we are mapping the variable <code>cyl</code> (number of cylinders) to the <code>size</code> aesthetic, which changes the diameter of the points on screen.</p>
<p>Now here’s where things get subtle: when we specify <code>aes(size = cyl)</code>, ggplot2 establishes a <em>default continuous scale</em>, but it also applies internal transformations to convert data values into appropriate sizes for plotting. This is where the function <code>scale_size_continuous()</code> comes in. It’s not about triggering the mapping (which already occurs in <code>aes()</code>), but about <strong>controlling how that mapping behaves</strong> — including the minimum and maximum point sizes on screen, the transformation of the scale (linear, log, sqrt), and how missing values are handled.</p>
<p>For example, we can write:</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(displ, hwy, <span class="at">size =</span> cyl)) <span class="sc">+</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.6</span>) <span class="sc">+</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_size_continuous</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">12</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="aesthetics_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The line <code>scale_size_continuous(range = c(2, 12))</code> ensures that the smallest value of <code>cyl</code> maps to a point with size 2 (in mm) and the largest to size 12, with other values interpolated. This gives us <strong>control over perceptual span</strong>, allowing us to modulate exaggeration or compression.</p>
<p>You might wonder: since <code>aes(size = cyl)</code> is already there, why do we need <code>scale_size_continuous()</code> at all? The answer is: the scale function customises the <strong>visual scale</strong>, just like <code>scale_x_continuous()</code> adjusts axis breaks, labels, limits, or transformations for the x-axis. Without it, ggplot2 will use default settings — which may or may not suit your perceptual goals.</p>
<p>In short, aesthetics (<code>aes</code>) declare <em>what</em> to map, while scale functions like <code>scale_size_continuous()</code> declare <em>how</em> to perform the mapping. This distinction is foundational to ggplot2’s grammar.</p>
<p>By contrast, position on a common scale is perceived with near-linear fidelity. Cleveland and McGill (1984) showed that position is the most accurate channel, followed by length, angle, and slope. Area and colour hue perform less well.</p>
<hr>
</section>
<section id="categorical-aesthetics" class="level4" data-number="0.2.3">
<h4 data-number="0.2.3" class="anchored" data-anchor-id="categorical-aesthetics"><span class="header-section-number">0.2.3</span> 1.3 Categorical Aesthetics</h4>
<p>Categorical variables are usually mapped to <strong>colour hue</strong> or <strong>shape</strong>. Here psychology matters differently: categories are perceived against the backdrop of cultural learning and biological limits.</p>
<ul>
<li>Humans can reliably discriminate 7–10 distinct hues without confusion.</li>
<li>Shape is more limited; beyond 5–6 distinct point symbols, confusion increases.</li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(iris, <span class="fu">aes</span>(Sepal.Length, Sepal.Width, <span class="at">colour =</span> Species, <span class="at">shape =</span> Species)) <span class="sc">+</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="aesthetics_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>In this plot, we use both colour and shape redundantly. Redundancy can be good — if printed in black and white, shape still distinguishes species. But redundancy can also overload the graphic if every aesthetic channel is employed unnecessarily.</p>
<hr>
</section>
<section id="integral-vs.-separable-dimensions" class="level4" data-number="0.2.4">
<h4 data-number="0.2.4" class="anchored" data-anchor-id="integral-vs.-separable-dimensions"><span class="header-section-number">0.2.4</span> 1.4 Integral vs.&nbsp;Separable Dimensions</h4>
<p>Some aesthetics can be judged independently (separable), while others blend together (integral). Size and colour are separable: you can judge the size of a circle independent of its colour. Hue and brightness are integral: increasing brightness changes the perception of hue.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(iris, <span class="fu">aes</span>(Sepal.Length, Sepal.Width,</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>                 <span class="at">size =</span> Petal.Length, <span class="at">colour =</span> Petal.Width)) <span class="sc">+</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="aesthetics_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Here, size and colour are separable: you can read one without being distorted by the other. If we had used hue and brightness simultaneously, judgments would have been confounded.</p>
<hr>
</section>
</section>
<section id="aesthetic-attributes-in-detail" class="level3" data-number="0.3">
<h3 data-number="0.3" class="anchored" data-anchor-id="aesthetic-attributes-in-detail"><span class="header-section-number">0.3</span> 2. Aesthetic Attributes in Detail</h3>
<p>The canonical list (after Bertin, extended by Wilkinson) includes:</p>
<ol type="1">
<li><strong>Position</strong>: x and y placement.</li>
<li><strong>Size</strong>: length, area, volume.</li>
<li><strong>Shape</strong>: point symbols, line types.</li>
<li><strong>Colour</strong>: hue, saturation, brightness.</li>
<li><strong>Texture</strong>: hatch, dot, stripe (less common in ggplot2, but see <code>ggpattern</code>).</li>
<li><strong>Alpha (Transparency)</strong>: conveys density.</li>
<li><strong>Motion</strong>: in animated graphics (<code>gganimate</code>).</li>
<li><strong>Text</strong>: labels, direct annotation.</li>
</ol>
<p>Each will be treated in extended prose with examples.</p>
<hr>
<section id="position" class="level4" data-number="0.3.1">
<h4 data-number="0.3.1" class="anchored" data-anchor-id="position"><span class="header-section-number">0.3.1</span> 2.1 Position</h4>
<p>Position is the <strong>workhorse aesthetic</strong>, though for many scientists and analysts, it’s not immediately intuitive to think of x and y as mere “aesthetics.” In most modelling tasks, the x- and y-axes represent the central conceptual relationship under investigation — say, dose versus response, time versus yield, or GDP versus life expectancy. Calling them “aesthetics” can feel like relegating the heart of the analysis to a cosmetic layer. But in the Grammar of Graphics, aesthetics do not mean superficial styling; they are the very <strong>channels through which data becomes visible</strong>.</p>
<p>What <code>aes(x = ..., y = ...)</code> is really doing is telling ggplot2 how to visually encode those model variables as position — the most perceptually accurate aesthetic channel available. When you add other layers (like <code>geom_point()</code>, <code>geom_smooth()</code>, <code>geom_rug()</code>), they all inherit these positional mappings unless you override them. If multiple layers define different <code>x</code> or <code>y</code> mappings, ggplot2 will either throw an error or render the plot using the most recent local mapping, depending on whether <code>aes()</code> was defined globally (in <code>ggplot()</code>) or locally (inside a specific layer).</p>
<p>Thus, position is foundational — but not immune to override. And scales like <code>scale_x_continuous()</code> and <code>scale_y_continuous()</code> further govern how the data range is mapped to screen coordinates, including limits, breaks, labels, transformations, and expansion buffers. The combination of aesthetics + geoms + scales is what makes the data speak through space.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(<span class="at">x =</span> displ, <span class="at">y =</span> hwy)) <span class="sc">+</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>) <span class="sc">+</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">name =</span> <span class="st">"Engine Displacement (L)"</span>, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">7</span>)) <span class="sc">+</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">name =</span> <span class="st">"Highway MPG"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="aesthetics_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>This plot combines position as an aesthetic, two geoms (points and smoothed line), and custom scales. The position aesthetic dominates perception — and rightly so — but thinking of it as an aesthetic aligns it with all other perceptual mappings under a unified framework.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(<span class="at">x =</span> displ, <span class="at">y =</span> hwy)) <span class="sc">+</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="aesthetics_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Here the regression line is interpretable only because position is so well perceived.</p>
<hr>
</section>
<section id="size" class="level4" data-number="0.3.2">
<h4 data-number="0.3.2" class="anchored" data-anchor-id="size"><span class="header-section-number">0.3.2</span> 2.2 Size</h4>
<p>Size is commonly misused — both in casual visualisation and in professional data graphics. The central issue is that human beings are poor at estimating relative areas and angles, especially when these are not aligned to a common scale. A classic example is the pie chart: it maps proportions to angles (and thereby area segments of a circle), which are difficult to compare accurately. Viewers struggle to judge whether one slice is, say, 27% or 32%, and whether another slice is twice as large or not — especially when labels are removed or distorted by 3D effects.</p>
<p>This perceptual limitation is not a mere theoretical complaint. It has been confirmed by decades of empirical work in graphical perception (notably by Cleveland &amp; McGill, 1984), which shows that mapping values to position along a common axis is far more effective for quantitative accuracy than using area or angle. For this reason, bar charts — where proportions are encoded as length along a shared axis — vastly outperform pie charts in both accuracy and interpretability.</p>
<p>In ggplot2, this design principle is straightforward to implement. Instead of creating a pie chart, one can simply map a categorical variable to the x-axis and count or summarise:</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># A flawed pie chart</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">pie</span>(<span class="fu">table</span>(mpg<span class="sc">$</span>class), <span class="at">col =</span> <span class="fu">rainbow</span>(<span class="dv">7</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="aesthetics_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># A better bar chart</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(<span class="at">x =</span> class)) <span class="sc">+</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="aesthetics_files/figure-html/unnamed-chunk-8-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The flipped bar chart uses vertical space for labels, maps count to a linear scale, and presents all categories for easy comparison. Even for proportions (rather than raw counts), bar charts can be made proportionally accurate using <code>geom_bar(position = "fill")</code> or by computing percentages manually. In all cases, the use of <strong>length instead of area</strong> offers a perceptually superior route for displaying comparative quantities.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># A flawed pie chart</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">pie</span>(<span class="fu">table</span>(mpg<span class="sc">$</span>class), <span class="at">col =</span> <span class="fu">rainbow</span>(<span class="dv">7</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="aesthetics_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># A better bar chart</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(<span class="at">x =</span> class)) <span class="sc">+</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="aesthetics_files/figure-html/unnamed-chunk-9-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The bar chart uses position (length) and is therefore more accurate.</p>
<hr>
</section>
<section id="colour" class="level4" data-number="0.3.3">
<h4 data-number="0.3.3" class="anchored" data-anchor-id="colour"><span class="header-section-number">0.3.3</span> 2.3 Colour</h4>
<p>Colour encodings require careful design. Hue is good for categories, but saturation/brightness are better for ordered data.</p>
<p>Importantly, any use of colour in graphics should consider the roughly 8% of men and 0.5% of women who have some form of colour vision deficiency (CVD), such as red-green colour blindness. Colours that appear distinct to most viewers may be indistinguishable to those with CVD. For categorical colour palettes, use tools like <code>viridis</code>, <code>colorBlindness</code>, or <code>RColorBrewer</code> palettes with documented accessibility. For continuous scales, palettes like <code>viridis</code>, <code>plasma</code>, and <code>magma</code> from the <code>viridis</code> package are perceptually uniform and colourblind-safe.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># A colourblind-friendly gradient</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(viridis)</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(displ, hwy, <span class="at">colour =</span> cty)) <span class="sc">+</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_colour_viridis</span>(<span class="at">option =</span> <span class="st">"C"</span>, <span class="at">direction =</span> <span class="sc">-</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="aesthetics_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(displ, hwy, <span class="at">colour =</span> cty)) <span class="sc">+</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_colour_gradient</span>(<span class="at">low =</span> <span class="st">"blue"</span>, <span class="at">high =</span> <span class="st">"red"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="aesthetics_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>This gradient implies order (blue = low city mpg, red = high). If we had instead used a rainbow palette, spurious patterns would appear due to non-uniform perceptual differences.</p>
<hr>
</section>
<section id="alpha-transparency" class="level4" data-number="0.3.4">
<h4 data-number="0.3.4" class="anchored" data-anchor-id="alpha-transparency"><span class="header-section-number">0.3.4</span> 2.4 Alpha (Transparency)</h4>
<p>Alpha solves overplotting by showing density.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(displ, hwy)) <span class="sc">+</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="aesthetics_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Clusters become visible where points overlap. This simple aesthetic is one of the most powerful in large datasets.</p>
<hr>
</section>
<section id="shape-and-texture" class="level4" data-number="0.3.5">
<h4 data-number="0.3.5" class="anchored" data-anchor-id="shape-and-texture"><span class="header-section-number">0.3.5</span> 2.5 Shape and Texture</h4>
<p>Shape can encode categories, but only a handful at once.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(iris, <span class="fu">aes</span>(Sepal.Length, Sepal.Width, <span class="at">shape =</span> Species)) <span class="sc">+</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="aesthetics_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Texture (patterns in fills) is rarer but useful in monochrome printing. Packages like <code>ggpattern</code> add hatching, stripes, dots.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Example using ggpattern (if installed)</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="co"># geom_bar_pattern(aes(pattern = Species))</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<hr>
</section>
</section>
<section id="facets-the-algebra-of-small-multiples" class="level3" data-number="0.4">
<h3 data-number="0.4" class="anchored" data-anchor-id="facets-the-algebra-of-small-multiples"><span class="header-section-number">0.4</span> 3. Facets: The Algebra of Small Multiples</h3>
<section id="what-are-facets" class="level4" data-number="0.4.1">
<h4 data-number="0.4.1" class="anchored" data-anchor-id="what-are-facets"><span class="header-section-number">0.4.1</span> 3.1 What Are Facets?</h4>
<p>Facets divide data into subsets and display them in a structured arrangement. Edward Tufte called this “small multiples” — the same graph repeated, only the data differing.</p>
<p>In ggplot2, we use <code>facet_wrap()</code> and <code>facet_grid()</code>.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(displ, hwy)) <span class="sc">+</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="aesthetics_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>This produces a panel for each car class.</p>
<hr>
</section>
<section id="crossing-vs-nesting" class="level4" data-number="0.4.2">
<h4 data-number="0.4.2" class="anchored" data-anchor-id="crossing-vs-nesting"><span class="header-section-number">0.4.2</span> 3.2 Crossing vs Nesting</h4>
<ul>
<li><strong>Crossing</strong>: full grid of combinations.</li>
<li><strong>Nesting</strong>: hierarchical subsets.</li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(displ, hwy)) <span class="sc">+</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(drv <span class="sc">~</span> cyl)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="aesthetics_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Here we get a crossing of drive type by cylinder count.</p>
<hr>
<p>Facets extend beyond grids: mosaics, polar arrangements, trellis trees. While ggplot2 defaults to grid layouts, the principle generalises widely.</p>
<hr>
</section>
</section>
<section id="guides-helping-readers-decode" class="level3" data-number="0.5">
<h3 data-number="0.5" class="anchored" data-anchor-id="guides-helping-readers-decode"><span class="header-section-number">0.5</span> 4. Guides: Helping Readers Decode</h3>
<p>In everyday data visualisation, a <strong>legend</strong> is simply the box that tells you what colours, shapes, or sizes correspond to which variables — a decoding key. Axes are the lines with tick marks and labels that tell you how far along a scale a point lies. These are intuitive concepts, often considered merely technical or stylistic.</p>
<p>But in the <strong>Grammar of Graphics</strong>, both <strong>axes</strong> and <strong>legends</strong> are types of <em>guides</em> — components that help the viewer decode the aesthetics. Every aesthetic mapping needs a corresponding guide to make it understandable.</p>
<p>We distinguish between several types of guides:</p>
<ul>
<li><strong>Scale guides</strong>: include axes (for position aesthetics) and legends (for size, colour, shape, etc.).</li>
<li><strong>Annotation guides</strong>: include text labels, arrows, or highlighted regions.</li>
<li><strong>Image or pictorial guides</strong>: include icons, thumbnails, or embedded images.</li>
</ul>
<p>Let’s begin with scale guides.</p>
<section id="scale-guides" class="level4" data-number="0.5.1">
<h4 data-number="0.5.1" class="anchored" data-anchor-id="scale-guides"><span class="header-section-number">0.5.1</span> 4.1 Scale Guides</h4>
<p>In ggplot2, <strong>axes</strong> are the guides for positional aesthetics (<code>x</code> and <code>y</code>). They show the range and scale of the data — including <strong>axis lines</strong>, <strong>tick marks</strong>, <strong>tick labels</strong>, and <strong>axis titles</strong>. You control them via <code>scale_x_*()</code> and <code>scale_y_*()</code> functions.</p>
<p><strong>Legends</strong>, by contrast, are guides for non-positional aesthetics like <code>colour</code>, <code>fill</code>, <code>shape</code>, <code>size</code>, and <code>linetype</code>. They appear by default when an aesthetic is mapped to a variable, and they are essential for interpretation.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(displ, hwy, <span class="at">colour =</span> class)) <span class="sc">+</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">colour =</span> <span class="fu">guide_legend</span>(<span class="at">title =</span> <span class="st">"Car Class"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="aesthetics_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>This code maps <code>class</code> to <code>colour</code>, and then creates a <strong>legend</strong> that shows what each colour means. The <code>guide_legend()</code> function allows further control — for example, renaming the legend title, reordering items, or adjusting the key size.</p>
<section id="common-confusions-and-pitfalls" class="level5" data-number="0.5.1.1">
<h5 data-number="0.5.1.1" class="anchored" data-anchor-id="common-confusions-and-pitfalls"><span class="header-section-number">0.5.1.1</span> Common Confusions and Pitfalls</h5>
<ul>
<li>If you don’t explicitly control the guide title, ggplot2 often pulls it from the <strong>column name</strong> in the dataset, which might not be reader-friendly. This is why your legend might show “cty” instead of “City MPG.” Use the <code>labs()</code> or <code>scale_*()</code> functions to override this.</li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(displ, hwy, <span class="at">colour =</span> cty)) <span class="sc">+</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">colour =</span> <span class="st">"City MPG"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="aesthetics_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<ul>
<li><p>If your aesthetic mapping uses a <strong>transformed version</strong> of a variable, e.g.&nbsp;<code>aes(colour = log2(cty))</code>, ggplot2 will often drop the legend altogether unless explicitly told to show it. This is because derived variables don’t inherit names automatically.</p></li>
<li><p>If you map a variable to both an aesthetic and a layer’s <code>fill</code> or <code>colour</code>, but override it locally, the global guide might still show it unless suppressed.</p></li>
<li><p>When you map a constant (like <code>aes(colour = "red")</code>) instead of a variable, no legend is created — because there’s nothing to decode.</p></li>
</ul>
<p>Understanding how ggplot2 builds and displays guides is essential. Aesthetics define the mapping, but <strong>guides explain that mapping to the viewer</strong>. Bad guides lead to misinterpretation, confusion, or inaccessibility.</p>
<p>In the following sections, we’ll discuss annotations and icon-based guides, which are not controlled by the scale system but are equally vital to good visual communication.</p>
</section>
</section>
<section id="scale-guides-1" class="level4" data-number="0.5.2">
<h4 data-number="0.5.2" class="anchored" data-anchor-id="scale-guides-1"><span class="header-section-number">0.5.2</span> 4.1 Scale Guides</h4>
<p>Guides connect the aesthetic back to data. For position, guides are <strong>axes</strong>. For colour/size/shape, guides are <strong>legends</strong>.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(displ, hwy, <span class="at">colour =</span> class)) <span class="sc">+</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">colour =</span> <span class="fu">guide_legend</span>(<span class="at">title =</span> <span class="st">"Car Class"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="aesthetics_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<hr>
</section>
<section id="annotation-guides" class="level4" data-number="0.5.3">
<h4 data-number="0.5.3" class="anchored" data-anchor-id="annotation-guides"><span class="header-section-number">0.5.3</span> 4.2 Annotation Guides</h4>
<p>Annotations mark outliers, thresholds, or important features.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(displ, hwy)) <span class="sc">+</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">"text"</span>, <span class="at">x =</span> <span class="dv">6</span>, <span class="at">y =</span> <span class="dv">40</span>, <span class="at">label =</span> <span class="st">"Outlier?"</span>, <span class="at">colour =</span> <span class="st">"red"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="aesthetics_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Arrows, shaded regions, and labels provide non-data cues.</p>
<hr>
</section>
<section id="image-and-icon-guides" class="level4" data-number="0.5.4">
<h4 data-number="0.5.4" class="anchored" data-anchor-id="image-and-icon-guides"><span class="header-section-number">0.5.4</span> 4.3 Image and Icon Guides</h4>
<p>Sometimes guides are pictorial. For example, meteorological plots use cloud icons instead of categorical labels. In R, packages like <code>ggimage</code> allow embedding images in legends.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Example (requires ggimage)</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="co"># ggplot(df, aes(x, y, image = icon)) + geom_image()</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<hr>
</section>
</section>
<section id="critical-review-of-the-aethetics-in-grammar-of-graphics" class="level3" data-number="0.6">
<h3 data-number="0.6" class="anchored" data-anchor-id="critical-review-of-the-aethetics-in-grammar-of-graphics"><span class="header-section-number">0.6</span> 5. Critical Review of the Aethetics in Grammar of Graphics:</h3>
<p>Give a presentation of your critical review of the design of aesthetics in the grammar of graphics. Do they make sense from your perspective?</p>
<hr>
</section>
<section id="key-takeaways" class="level3" data-number="0.7">
<h3 data-number="0.7" class="anchored" data-anchor-id="key-takeaways"><span class="header-section-number">0.7</span> 6. Key Takeaways</h3>
<ul>
<li><strong>Aesthetics</strong> are not decoration: they are how data enters perception.</li>
<li><strong>Position is king</strong>; size, colour, and shape require care.</li>
<li><strong>Facets</strong> structure complexity into comprehensible small multiples.</li>
<li><strong>Guides</strong> complete the loop from data to reader.</li>
<li>Critically: always design with the human perceptual system in mind, not just with software defaults.</li>
</ul>
<hr>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




<script src="aesthetics_files/libs/quarto-html/zenscroll-min.js"></script>
</body></html>